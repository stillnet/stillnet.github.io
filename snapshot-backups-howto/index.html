<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Stillnet Studios  &raquo; Blog Archive   &raquo; Snapshot backups</title>

<meta name="generator" content="WordPress 6.1.1"> <!-- leave this for stats -->

<link rel="stylesheet" href="/wp-content/themes/evanescence-12/style.css" type="text/css" media="screen">
<link rel="alternate" type="application/rss+xml" title="Stillnet Studios RSS Feed" href="/feed/">
<link rel="pingback" href="/xmlrpc.php">

<meta name="robots" content="max-image-preview:large">
				
	<script type="text/javascript">//<![CDATA[
	// Google Analytics for WordPress by Yoast v4.2.3 | http://yoast.com/wordpress/google-analytics/
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount','UA-1413191-1']);
	_gaq.push(['_trackPageview']);
	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
	//]]></script>
<link rel="alternate" type="application/rss+xml" title="Stillnet Studios &raquo; Snapshot backups Comments Feed" href="/snapshot-backups-howto/feed/">
<script type="text/javascript">
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"httpwww.stillnetstudios.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.1.1"}};
/*! This file is auto-generated */
!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode,e=(p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0),i.toDataURL());return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(p&&p.fillText)switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([129777,127995,8205,129778,127999],[129777,127995,8203,129778,127999])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(e=t.source||{}).concatemoji?c(e.concatemoji):e.wpemoji&&e.twemoji&&(c(e.twemoji),c(e.wpemoji)))}(window,document,window._wpemojiSettings);
</script>
<style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 0.07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}</style>
	<link rel="stylesheet" id="wp-block-library-css" href="/wp-includes/css/dist/block-library/style.min.css?ver=6.1.1" type="text/css" media="all">
<link rel="stylesheet" id="classic-theme-styles-css" href="/wp-includes/css/classic-themes.min.css?ver=1" type="text/css" media="all">
<style id="global-styles-inline-css" type="text/css">body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;}:where(.is-layout-flex){gap: 0.5em;}body .is-layout-flow > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-flow > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-flow > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-constrained > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-constrained > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > :where(:not(.alignleft):not(.alignright):not(.alignfull)){max-width: var(--wp--style--global--content-size);margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignwide{max-width: var(--wp--style--global--wide-size);}body .is-layout-flex{display: flex;}body .is-layout-flex{flex-wrap: wrap;align-items: center;}body .is-layout-flex > *{margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
.wp-block-navigation a:where(:not(.wp-element-button)){color: inherit;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}
.wp-block-pullquote{font-size: 1.5em;line-height: 1.6;}</style>
<link rel="https://api.w.org/" href="/wp-json/">
<link rel="alternate" type="application/json" href="/wp-json/wp/v2/posts/15">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml">
<meta name="generator" content="WordPress 6.1.1">
<link rel="canonical" href="/snapshot-backups-howto/">
<link rel="shortlink" href="/?p=15">
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Fsnapshot-backups-howto%2F">
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Fsnapshot-backups-howto%2F&#038;format=xml">
</head>

<body>
<div id="page">

<div id="header">
<div><div>	
	<div class="header-title">
		<h1><a href="/" title="Stillnet Studios: Web development notes and commentary from Ryan Stille">Stillnet Studios</a></h1>
		<p>Web development notes and commentary from Ryan Stille</p>
	</div> 
	<!-- Search box (If you prefer having search form as a sidebar widget, remove this block) -->
	<div class="search">
		<form method="get" id="searchform" action="http://www.stillnetstudios.com/">
<input type="text" size="12" name="s" id="s" value="search..." onblur="if(this.value=='') this.value='search...';" onfocus="if(this.value=='search...') this.value='';">
</form>
	</div> 
	<!-- Search ends here-->
</div></div>	
</div>
<div id="wrapper">

	<div id="content">

			
		<div class="navigation">
			<div class="alignleft">&laquo; <a href="/spry-presentation/" rel="prev">Adobe Spry Presentation</a>
</div>
			<div class="alignright">
<a href="/drag-and-drop-sort-order-with-scriptaculous/" rel="next">Drag and drop sort order with Scriptaculous</a> &raquo;</div>
		</div>

		<div class="post" id="post-15">
			<div class="post-title"><div>
				<h2><a href="/snapshot-backups-howto/" rel="bookmark" title="Permanent Link to Snapshot backups">Snapshot backups</a></h2>
			</div></div>
			<div class="post-entry">
				<p>I&#8217;ve been wanting a way to easily recover a file that is accidentally deleted from one of our websites, either by us or by a client.  Also, it would be useful to be able to get back to the state your code was in X number of days ago. For example when the client changes his mind about the current direction you&#8217;ve been developing.  Source control can offer a solution to some degree, but won&#8217;t help you if the client has access to the website and they&#8217;ve changed a file. And some shops just don&#8217;t use source control for all their projects.</p>
<p>Tape backups also offer a partial solution, I&#8217;ve had to pull a file off yesterday&#8217;s tape several times.  But restoring from tape is a hassle, especially if its stored off site (which it should be!).</p>
<p>Enter rsnapshot. <span id="more-15"></span>  Rsnapshot is a perl script that uses rsync to take snapshots of any set of files you want.  Rsnapshot only runs on Linux, but you can easily backup any machine running <em>any</em> OS with it.</p>
<p>It would be fairly easy to code a bash script or windows batch file to copy &#8216;snapshots&#8217; of your souce code to a backup area.  Rsnapshot does more than this &#8211; it only backs up files that have changed, while still offering you an interface where you can see <em>all</em> the souce code as it was yesterday, the day before, etc.  This results in a very easy way to pull up old files, without taking up a lot of disk space.  I&#8217;ve looked at other tools that only do incremental backups to save disk space. To use them you must use their special tools to pull the files back out, since all the incremental bits need to be put back together.</p>
<p>Rsnapshot solves this problem by using a feature of the Linux filesystem called hard links.  Hard links are kind of like a Windows shortcut, but the &#8216;shortcut&#8217; appears to be the actual file in every way.  The first time a snapshot is taken, all your files are copied to the daily.0 (or weekly.0 if you are only doing weekly, etc.) directory.  The second snapshot only copies changed files into the daily.1 directory.  For the files that have not changed, rsnapshot creates hard links to the actual files in the daily.0.   So when you browse through the daily.1 directory, it appears that all your files are there, even though that directory may only contain a few kb of data, depending on how many files changed.</p>
<p>You can configure rsnapshot to backup on a very flexible schedule.  I have mine setup to backup once a day for 7 days, once a week for 4 weeks, and once a month for 3 months.  That is, I can look back for 7 days, then after that I only have snapshots of every week for 4 weeks, then after that I only have a snapshot for every month, going back 3 months.  Some people like to also backup hourly for 8 hours.  Here&#8217;s what my backup area looks like:</p>
<p><img decoding="async" id="image16" src="/wp-content/uploads/2006/12/rsnapshot-1.gif" alt="rsnapshot sceenshot of backup area"></p>
<p>Here is how you implement it:</p>
<p><strong>Installation</strong></p>
<ul>
<li>Install rsync on your linux box if you don&#8217;t already. Chances are its already on there.  Type &#8216;rsync&#8217; at a shell to see if its installed.  If its not, look to your OS documentation on how to install it.  On a RedHat or similar os use &#8220;yum install rsync&#8221;.</li>
<li>Install rsnapshot.  You can download it from <a href="http://www.rsnapshot.org/">rsnapshot.org</a>.  I downloaded the RPM file from there and then installed it with &#8220;yum localinstall rsnapshot-1.3.0-1.noarch.rpm&#8221;.</li>
<li>Install the rsync daemon on the windows machines you want to backup.  The windows port of rsync requires <a href="http://www.cygwin.com/">Cygwin</a> to run.  Cygwin is a windows dll that provides a lot of linux functionality on a windows platform.  Many linux-ported-to-windows applications require this.  Handily, there is version of rsync for windows that bundles the necessary Cygwin stuff with an rsync implementation &#8211; cwRsync.  Go to the the <a href="http://itefix.no/cwrsync/">cwRsync website</a> and download the cwRsync Server.  Its a straight forward windows installer.  All my backup transfers are done inside our secure network, so I did not install the OpenSSH part of cwRsync.  If want to do snapshots across the internet you should install that component and setup keys so your transfers will be encrypted.</li>
<li>Start the cwRsync service &#8211; go to the services applet in your control panel (which is located in &#8220;Administrative Tools&#8221;), and start the cwRsync service.  Set it to Automatic so it will startup upon boot.</li>
</ul>
<p><strong>Configuration</strong></p>
<p>In the Start menu on your Windows machine you&#8217;ll find an entry for &#8220;cwRsync Server&#8221;, and in there is a shortcut to the rsyncd.conf file.  In here you need to setup what files are allowed to be accessed through rsync.  Rsync calls a group of accessible files a &#8216;module&#8217;. My module is called websites:</p>
<p><code>[websites]<br>
path = /cygdrive/d/websites/<br>
read only = true<br>
transfer logging = yes</code></p>
<p>That shares out the D:\websites area.  Notice the cygwin naming convention for accessing your drives.  You&#8217;ll need to restart the cwRsync service after changing this file.</p>
<p>To test your windows rsync setup, run this command on your linux server:  &#8220;rsync mywindowsserver.mydomain.com::&#8221;.  This should list the available modules on that machine:</p>
<p><code>[root@web-dev3 ~]# rsync cf7dev.cfwebtools.com::<br>
websites<br>
[root@web-dev3 ~]#</code></p>
<p>Next configure the /etc/rsnapshot.conf file on your linux server.  Here&#8217;s a tip, parameters in this config file must be separated by tabs.  This allows you to easily specify spaces in your file paths.</p>
<p>The first thing I changed was the snapshot_root directive, I pointed this to the area on my linux server where I wanted the snapshots to be stored.  I put them in an area where we have a samba mapping so any developer can easily browse the snapshots.</p>
<p>Then scroll down to the BACKUP INTERVALS section. Define here the resolution of your snapshots.  Here&#8217;s what I have:<br>
<code>interval        daily   7<br>
interval        weekly  4<br>
interval        monthly 2</code><br>
Note that they must be in order of most often to least often, because of the way the hard linking works.</p>
<p>Then in the BACKUP POINTS / SCRIPTS section, define what you want backed up.  Here&#8217;s my entry for the windows server mentioned above:<br>
<code>backup  cf7dev.cfwebtools.com::websites            cf7dev</code></p>
<p>The second parameter is the server and the module, the third parameter is the directory to place the snapshot.  This is under the snapshot_root declared earlier.</p>
<p>The last step is to add rsnapshot to cron.  You need to call rsnapshot every day with the daily parameter, every week with the weekly parameter, etc.  So every day you should run &#8220;rsnapshot daily&#8221;, every week you should run &#8220;rsnapshot weeky&#8221;, etc.  I just added these lines to my cron.daily, cron.weekly, and cron.monthly files.  To test my configuration I just manually ran &#8220;rsnapshot weekly&#8221;.</p>
<p>Thats it! It takes less than an hour to setup and you&#8217;ll have easily accessible snapshots to refer back to when something goes wrong.</p>
							</div>
	
			<p class="post-meta">
					This entry was posted on 9 December 2006 at 1:15 pm					and is filed under <a href="/category/linux/" rel="category tag">Linux</a>, <a href="/category/system-administration/" rel="category tag">System Administration</a>.
					You can follow any responses to this entry through the <a href="/snapshot-backups-howto/feed/">RSS 2.0</a> feed.

											Both comments and pings are currently closed.

					
			</p>
		</div>
	
<!-- You can start editing here. -->
<div id="comments">
	<h3>37 Comments</h3>

	<ol class="commentlist">

	
		<li class="alt" id="comment-8">
			<h4>
<a href="http://www.cory.lievers.ca/" rel="external nofollow ugc" class="url">Cory</a> says:</h4>
			<p>Nicely written article. I came across this page by your comment on my blog, also about <a href="http://www.blog.cory.lievers.ca/index.php?/archives/25-Backing-up-computers-with-rsnapshot.html" title="Backing up Computers with rsnapshot" rel="nofollow">backing up computers with rsnapshot</a>.</p>
						<small class="commentmetadata"><a href="#comment-8" title="">11 December 2006, 11:07 am</a></small>
					</li>

	
	
		<li class="" id="comment-9">
			<h4>
<a href="http://www.neshq.com/" rel="external nofollow ugc" class="url">Kyle Piper</a> says:</h4>
			<p>Very nice, when I move to Ubuntu Linux, Ill keep this in mind</p>
						<small class="commentmetadata"><a href="#comment-9" title="">22 December 2006, 2:56 pm</a></small>
					</li>

	
	
		<li class="alt" id="comment-10">
			<h4>Sexy Bern says:</h4>
			<p>To be fair to rsnapshot virgins, the following should be noted.</p>
<p>rsnapshot is not magic. It&#8217;s a very well-structured wrapper around &#8220;cp -al&#8221; and &#8220;rsync&#8221;.</p>
<p>rsnapshot uses Linux hard links. If you ever edit any of the files in the &#8220;rsnapshot tree&#8221;, you will hose all other links to it. Treat your rsnapshot tree as read-only, warts&#8217;n&#8217;all.</p>
<p>rsnapshot uses rsync. rsync doesn&#8217;t copy changes as such, it synchronises trees. If you delete a load of files in the &#8220;source tree&#8221; then the corresponding files will be deleted in the &#8220;rsnapshot tree&#8221;. This won&#8217;t affect previous snapshots, only the one that&#8217;s in progress.</p>
<p>If you move or rename a directory in the &#8220;source tree&#8221; you will break &#8220;true&#8221; synchronisation at the same point in the &#8220;rsnapshot tree&#8221; &#8211; rsync will delete the sub-tree under the old name and create a new tree under the new name (since you can&#8217;t hard link directories). eg.</p>
<p>foo/bar/(5 gigs of data) -&gt; foo/wibble/(5 gigs of data)</p>
<p>Here, &#8220;bar&#8221; was renamed to &#8220;wibble&#8221; and you lose the benefit of 5 gigs of hard links.</p>
<p>You can avoid this problem if you know in advance that it&#8217;s going to take place. Go into your most-frequently-created rsnapshot (eg. daily.0) and do the corresponding &#8220;mv bar wibble&#8221; before rsnapshot runs. Nothing will be broken as the &#8220;wibble&#8221; directory now exists in both places and rsync won&#8217;t go through the delete/create phase.</p>
<p>I&#8217;ve used rsnapshot to synchronise trees with literally MILLIONS of files in them. It needs RAM but it works a treat.</p>
						<small class="commentmetadata"><a href="#comment-10" title="">13 February 2007, 12:14 pm</a></small>
					</li>

	
	
		<li class="" id="comment-11">
			<h4>
<a href="http://rsnapshot.org/" rel="external nofollow ugc" class="url">David Cantrell</a> says:</h4>
			<p>Some of the most common questions people have about rsnapshot are about how to back up Windows machines, so thanks &#8211; I&#8217;ll link to you from the website shortly ðŸ™‚</p>
<p>One point needs clarification though &#8211; rsnapshot doesn&#8217;t only run on Linux.  We aim to support any operating system and filesystem that supports hard links.  That includes *BSD, Solaris, Irix, AIX, HPUX and others.</p>
						<small class="commentmetadata"><a href="#comment-11" title="">14 March 2007, 9:49 am</a></small>
					</li>

	
	
		<li class="alt" id="comment-13">
			<h4>David Keegel says:</h4>
			<p>It is also a good idea to add &#8220;hosts allow = &#8230;&#8221; in rsyncd.conf on the windows machine to restrict the IP addresses which can connect to the rsync server.  And possibly also to add &#8220;auth users = &#8230;&#8221; (and probably &#8220;secrets file = &#8230;&#8221;) if you would like user/password authentication.  By default rsync server allows anonymous access from anywhere.</p>
<p>Or for advanced users, you could set rsyncd.conf to have &#8220;hosts allow = 127.0.0.1&#8221; and access the rsync server through an ssh tunnel (eg from linux run ssh -L 873:localhost:873 cf7dev and then have rsnapshot do a backup of localhost::websites to cf7dev .) That would also mean the network traffic would be encrypted.</p>
						<small class="commentmetadata"><a href="#comment-13" title="">8 December 2007, 9:57 pm</a></small>
					</li>

	
	
		<li class="" id="comment-14">
			<h4>
<a href="http://teamoverkill.com/blog/" rel="external nofollow ugc" class="url">LD</a> says:</h4>
			<p>Davdi Cantrell,</p>
<p>NTFS does support hard links and junctions (like soft links).  In theory it should be possible to perform a similar function on windows that you do with *nix systems.</p>
						<small class="commentmetadata"><a href="#comment-14" title="">23 December 2007, 9:21 pm</a></small>
					</li>

	
	
		<li class="alt" id="comment-16">
			<h4>Matthew says:</h4>
			<p>This solution works great, however is there anyway you can initiate this process from the client being backed-up, instead of vice-a-versa?  In my scenario the clients being backed up are behind routers with dynamic ips &#8211; hence I do not have a StaticIP to point the host at, nor the ability to always configure the router appropriately.</p>
<p>?</p>
						<small class="commentmetadata"><a href="#comment-16" title="">13 February 2008, 1:15 pm</a></small>
					</li>

	
	
		<li class="" id="comment-17">
			<h4>
<a href="http://ryan.cfwebtools.com/" rel="external nofollow ugc" class="url">Ryan Stille</a> says:</h4>
			<p>Matthew &#8211; I don&#8217;t think so.  You can initiate rsync from the client, which is what rsnapshot uses&#8230; you may be able to hack it together.</p>
<p>One option would be to rsync data from the client into a temporary place on your rsync backup server.  Then use rsnapshot (ran from the backup server) to snapshot that data, then delete it.</p>
						<small class="commentmetadata"><a href="#comment-17" title="">13 February 2008, 1:38 pm</a></small>
					</li>

	
	
		<li class="alt" id="comment-15">
			<h4>
<a href="http://www.rsnapshot.org/" rel="external nofollow ugc" class="url">David Keegel</a> says:</h4>
			<p>If you are prepared to do some extra work and know what you&#8217;re doing, the link below describes a way you can do &#8220;push&#8221; backups with rsnapshot (in a manner of speaking) :-</p>
<p><a href="http://lists.samba.org/archive/rsync/2007-December/019470.html" rel="nofollow">http://lists.samba.org/archive/rsync/2007-December/019470.html</a></p>
<p>I haven&#8217;t tried it myself.</p>
						<small class="commentmetadata"><a href="#comment-15" title="">13 February 2008, 3:20 pm</a></small>
					</li>

	
	
		<li class="" id="comment-18">
			<h4>Terry Barnum says:</h4>
			<p>To expand on David Cantrell&#8217;s statement that rsnapshot doesnâ€™t only run on Linux, it&#8217;s been working great for us on Mac OS X (10.3, 10.4 &amp; 10.5).</p>
						<small class="commentmetadata"><a href="#comment-18" title="">22 February 2008, 11:52 am</a></small>
					</li>

	
	
		<li class="alt" id="comment-19">
			<h4>Rax says:</h4>
			<p>Rsnapshot now seems to be available for Linux as well.. though only in RPM (for the moment), Debian appears to be &#8220;Coming soon&#8221;</p>
						<small class="commentmetadata"><a href="#comment-19" title="">19 March 2008, 12:17 am</a></small>
					</li>

	
	
		<li class="" id="comment-20">
			<h4>Doug Barry says:</h4>
			<p>I have had a lot of success with rsnaphost in this sense myself, having arrived at the same solution via my own investigations. There is a native version of rsync for windows for those of us that would rather not polute a windows server with cygwin, called DeltaCopy. Check it out here: <a href="http://www.aboutmyip.com/AboutMyXApp/DeltaCopy.jsp" rel="nofollow ugc">http://www.aboutmyip.com/AboutMyXApp/DeltaCopy.jsp</a><br>
I am currently using it with excellent results on a few dozen machines, targeting a Debian embedded linux machine (Linksys NSLU2) and also a more beefy server for the middle man in a DDT setup.</p>
						<small class="commentmetadata"><a href="#comment-20" title="">16 July 2008, 5:30 am</a></small>
					</li>

	
	
		<li class="alt" id="comment-21">
			<h4>acdc superstar says:</h4>
			<p>Works like a charm,</p>
<p>It took me a while to realize that windoze firewall was well, doing its job&#8230; Port 873 needs to be opened.</p>
<p>Thought I might save some time to others.</p>
						<small class="commentmetadata"><a href="#comment-21" title="">29 July 2008, 4:08 pm</a></small>
					</li>

	
	
		<li class="" id="comment-28">
			<h4>Fred says:</h4>
			<p>Doug, if I understand well, you can use only the client of DeltaCopy on the Windows machine and rsnapshot on the Linux box? Or is DeltaCopy entirely for Windows machines (no Windows/Linux interoperabilty)?</p>
						<small class="commentmetadata"><a href="#comment-28" title="">9 September 2008, 9:29 pm</a></small>
					</li>

	
	
		<li class="alt" id="comment-30">
			<h4>
<a href="http://blog.kyodium.net/" rel="external nofollow ugc" class="url">ryall</a> says:</h4>
			<p>Fred, you can use linux as either a server or client using rsync and DeltaCopy</p>
<p><a href="http://www.aboutmyip.com/AboutMyXApp/DisplayFAQ.do?fid=7" rel="nofollow ugc">http://www.aboutmyip.com/AboutMyXApp/DisplayFAQ.do?fid=7</a></p>
						<small class="commentmetadata"><a href="#comment-30" title="">25 September 2008, 11:25 pm</a></small>
					</li>

	
	
		<li class="" id="comment-23">
			<h4>Gabor says:</h4>
			<p>Thanks for the article! Here are some important things to add:</p>
<p>With standard cygwin1.dll filenames with UTF-8 characters, like German &#8220;Umlaut&#8221;, won&#8217;t show up correctly. For that you have to use a modified cygwin1.dll which can be found at <a href="http://www.okisoft.co.jp/esc/utf8-cygwin/" rel="nofollow ugc">http://www.okisoft.co.jp/esc/utf8-cygwin/</a></p>
<p>The path of your module must not contain spaces or wildcards. As a workaround you have to use the short name (8.3) which you can see in the Windows shell with &#8220;dir /x&#8221;. In the include/exclude section you may use a ? for a space. For example:</p>
<p>path = /cygdrive/c/dokume~1 # (German version)</p>
<p>exclude = Default?User</p>
<p>The cwRsync service is run by an user with the same name. This user has to have full access to the files waiting for backup. If you want to backup your user directory in &#8220;Documents and Settings&#8221; you have to give user &#8220;cwRsync&#8221; full access to it.</p>
<p>And, as acdc superstar said above, the Windows firewall needs an exception for rsync.</p>
						<small class="commentmetadata"><a href="#comment-23" title="">4 October 2008, 1:13 pm</a></small>
					</li>

	
	
		<li class="alt" id="comment-22">
			<h4>mike says:</h4>
			<p>thanks gabor!!! i was having an issue with delta copy, if my top level folders had spaces, they werent working right.  so if there were too top level folders starting with &#8220;My &#8221; then they wouldnt work cause they ended up beign the same.  using the 8.3 names worked great!</p>
<p>weird though, everything below the top level, even with spaces, were fine.</p>
<p>does UTF-8 matter for anything else except for other languages?</p>
						<small class="commentmetadata"><a href="#comment-22" title="">19 October 2008, 7:23 pm</a></small>
					</li>

	
	
		<li class="" id="comment-27">
			<h4>Gabor says:</h4>
			<p>Mike, I think you don&#8217;t need the UTF-8 replacement unless you have some special characters (non ASCII) in your file names. And yes, only the module path, the top level, must not have spaces, everything below is fine.</p>
						<small class="commentmetadata"><a href="#comment-27" title="">20 December 2008, 6:01 pm</a></small>
					</li>

	
	
		<li class="alt" id="comment-12">
			<h4>FlavioB says:</h4>
			<p>Hy folks!<br>
I&apos;m trying to backup a Windows client, but as it tries to copy the folder &quot;EreditÃ &quot; I get the error:</p>
<p>rsync: recv_generator: mkdir &quot;/mnt/remote/user01/daily.0/dire/DIVERSI/Eredit\#340&quot; failed: No such file or directory (2)<br>
*** Skipping any contents from this failed directory ***</p>
<p>Any clues about what to do?</p>
<p>Thanks to all!</p>
						<small class="commentmetadata"><a href="#comment-12" title="">22 January 2009, 12:02 pm</a></small>
					</li>

	
	
		<li class="" id="comment-24">
			<h4>jens says:</h4>
			<p>Hi.</p>
<p>i followed the instructions and everything worked fine apart from the entry in the BACKUP POINTS / SCRIPTS section. I used the IP address followed by &quot;::&quot; but a rsnapshot configtest says that the source directory doesn&apos;t exist. Is there a problem with the IP address? (but the check of the module worked fine!).<br>
Would be anyone so nice and help me?</p>
						<small class="commentmetadata"><a href="#comment-24" title="">2 June 2009, 6:40 am</a></small>
					</li>

	
	
		<li class="alt" id="comment-25">
			<h4>Aaron says:</h4>
			<p>Thanks for the great writeup, but I can&apos;t figure out where to go on the windows box for this instruction</p>
<p>&gt;&gt;Start the cwRsync service &#8211; go to the services applet in your control panel, and start the cwRsync service. Set it to Automatic so it will startup upon boot.</p>
<p>I can&apos;t find any services applet in control panel.&nbsp;&nbsp;Perhaps I&apos;m not looking in the right place&#8230;</p>
<p>Thanks for your help!</p>
						<small class="commentmetadata"><a href="#comment-25" title="">20 June 2009, 9:55 pm</a></small>
					</li>

	
	
		<li class="" id="comment-29">
			<h4>
<a href="http://ryan.cfwebtools.com/" rel="external nofollow ugc" class="url">Ryan Stille</a> says:</h4>
			<p>Aaron, try looking in &quot;Administrative Tools&quot; in the control panel.</p>
						<small class="commentmetadata"><a href="#comment-29" title="">22 June 2009, 7:45 am</a></small>
					</li>

	
	
		<li class="alt" id="comment-720">
			<h4>
<a href="http://www.linuxgravity.com/" rel="external nofollow ugc" class="url">Amjad</a> says:</h4>
			<p>Aaron,To start Rsync service, Right Click My Computer &#8211; Manage. Then Look for Services and Applications, and right there you will find cwRsync service. Just right click that and click start.</p>
<p>Hope this helps</p>
						<small class="commentmetadata"><a href="#comment-720" title="">11 September 2009, 7:19 am</a></small>
					</li>

	
	
		<li class="" id="comment-1367">
			<h4>Joel Hazel says:</h4>
			<p>Hey Ryan &#8211; been trying to setup 10.6 SL Server with rsnapshot to backup my windows clients in the office and found your guide.&nbsp;&nbsp;Setup went well enough, but when I try to run rsnapshot it get the following: </p>
<p>[code]<br>
@ERROR: invalid uid nobody<br>
rsync error: error starting client-server protocol (code 5) at /SourceCache/rsync/rsync-40/rsync/main.c(1398) [receiver=2.6.9]<br>
@ERROR: invalid uid nobody<br>
rsync error: error starting client-server protocol (code 5) at /SourceCache/rsync/rsync-40/rsync/main.c(1398) [receiver=2.6.9]<br>
@ERROR: invalid uid nobody<br>
rsync error: error starting client-server protocol (code 5) at /SourceCache/rsync/rsync-40/rsync/main.c(1398) [receiver=2.6.9]<br>
&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-<br>
rsnapshot encountered an error! The program was invoked with these options:<br>
/opt/local/bin/rsnapshot hourly<br>
&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-<br>
ERROR: /usr/bin/rsync returned 5 while processing 10.112.0.122::backup<br>
[/code]</p>
<p>Not sure what I&apos;m doing wrong&#8230; any ideas?</p>
						<small class="commentmetadata"><a href="#comment-1367" title="">13 May 2010, 6:22 pm</a></small>
					</li>

	
	
		<li class="alt" id="comment-1369">
			<h4>Ryan says:</h4>
			<p>Hmm not sure Joel, I haven&apos;t seen that before.&nbsp;&nbsp;it kind of seems like the &apos;nobody&apos; user might not be setup or not setup properly.&nbsp;&nbsp;I would see if you can run the rsync commands manually.&nbsp;&nbsp;Just try to rsync one of your windows shares to a local directory on your linux box. Then take your errors to an rsync forum, once you get those straightened out rsnapshot would work.</p>
						<small class="commentmetadata"><a href="#comment-1369" title="">13 May 2010, 8:48 pm</a></small>
					</li>

	
	
		<li class="" id="comment-1440">
			<h4>
<a href="http://twitter.com/hoberion" rel="external nofollow ugc" class="url">hoberion</a> says:</h4>
			<p>@Joel Hazel</p>
<p>had the same issue:<br>
in the rsyncd.conf on your windows machine add<br>
uid = 0<br>
gid = 0</p>
						<small class="commentmetadata"><a href="#comment-1440" title="">2 June 2010, 3:08 am</a></small>
					</li>

	
	
		<li class="alt" id="comment-1512">
			<h4>Carpet says:</h4>
			<p>Thanks for the HOWTO Ryan! Finally got cwrsync up and pumping. Kudos @acdc superstar for the port settings on Windows Firewall too!</p>
						<small class="commentmetadata"><a href="#comment-1512" title="">27 June 2010, 6:32 am</a></small>
					</li>

	
	
		<li class="" id="comment-1951">
			<h4>Wayne says:</h4>
			<p>I tried using this procedure to backup a Windows system (all disks, all files) but mostly got permission denied error messages.&nbsp;&nbsp;I was using the Administator uid/gid.&nbsp;&nbsp;Is it possible to backup entire Windows systems with rsnapshot?</p>
						<small class="commentmetadata"><a href="#comment-1951" title="">6 December 2010, 10:45 pm</a></small>
					</li>

	
	
		<li class="alt" id="comment-2306">
			<h4>
<a href="http://www.ephestione.it/" rel="external nofollow ugc" class="url">Ephestione</a> says:</h4>
			<p>I got some headache while trying to test the cwrsync service from ubuntu, since I wasn&apos;t getting a connection timeout.<br>
Turns out Windows 7&apos;s firewall was in the way, you need to add a rule for inbound connections allowing all connections to the &#8230;\ICW\bin\rsync.exe program</p>
<p>And by the way, would you mind if I translated this guide to italian and published it on my website, obviously giving credit to you as the original author? (admitting I find the time to :D)</p>
						<small class="commentmetadata"><a href="#comment-2306" title="">9 May 2011, 8:21 am</a></small>
					</li>

	
	
		<li class="" id="comment-2307">
			<h4>Ryan says:</h4>
			<p>Ephestione, feel free to translate it, thanks for asking.</p>
						<small class="commentmetadata"><a href="#comment-2307" title="">9 May 2011, 8:38 am</a></small>
					</li>

	
	
		<li class="alt" id="comment-2388">
			<h4>Neo says:</h4>
			<p>I wonder if rsnapshot can work with Mac OSx 10.5.6? I saw all comments above from long long time ago. </p>
<p>Can I ask a noob question? Can you, who have made rsnapshot, be able to treat the current running system as a root snapshot? Because I don&apos;t want to make a root or base-line backup and then make others snapshot base on this base-line. It takes time! If you can treat the current system is the root snapshot, all you have to do is make first snapshot base on current system and then base on the first snapshot and so on so 4. On the Internet shop pc there is no important things to care about except the OS itself. Or my home pc, which for game only doesn&apos;t need to a root snapshot for system and also doesn&apos;t need to Restart-Restore system (like Deep freeze). I want to restore system when there is some apps do &quot;conflic&quot; the other current on my pc (like Rollback of Horizontal Datasys for Windows only). </p>
<p>There is an app run on Mac OS x I know very like rsnapshot name, Paragon Volume Snapshot for Mac OS X, but it has a nice GUI and cost some bucks.&nbsp;&nbsp;</p>
<p>thanks ðŸ˜‰</p>
						<small class="commentmetadata"><a href="#comment-2388" title="">25 June 2011, 11:46 am</a></small>
					</li>

	
	
		<li class="" id="comment-2637">
			<h4>Alex says:</h4>
			<p>@Neo: I don&#8217;t think you&#8217;d want to do that. What happens if your hard drive dies, then the hard links fail? </p>
<p>Hard links only work on the same filesystem. Rsnapshot&#8217;ing to the same local filesystem doesn&#8217;t really make any sense&#8211; you want to have an ENTIRE backup of a point in time (no matter how long it takes), and then hard links in subsequent backups for when files didn&#8217;t change between the backup intervals. </p>
<p>&#8220;Backup&#8221; is kind of the key part&#8211; redundancy! ðŸ™‚</p>
						<small class="commentmetadata"><a href="#comment-2637" title="">30 November 2011, 2:44 pm</a></small>
					</li>

	
	
		<li class="alt" id="comment-2801">
			<h4>Clint O says:</h4>
			<p>Hi:</p>
<p>I&#8217;ve used rsnapshot on FreeBSD. I performed purely local backups with it: local disk to local disk. So I was curious if the same could be done entirely with Cygwin on Windows? In other words, is the file system support all there for hard links to make this work?</p>
<p>Thanks,</p>
<p>-Clint</p>
						<small class="commentmetadata"><a href="#comment-2801" title="">18 April 2012, 2:28 pm</a></small>
					</li>

	
	
		<li class="" id="comment-2802">
			<h4>Alex Cavnar says:</h4>
			<p>I don&#8217;t think that&#8217;ll work&#8211; Windows doesn&#8217;t support a notion of hard links, and there&#8217;s nothing Cygwin can do about that, unfortunately.</p>
						<small class="commentmetadata"><a href="#comment-2802" title="">18 April 2012, 2:35 pm</a></small>
					</li>

	
	
		<li class="alt" id="comment-2803">
			<h4>Clint O says:</h4>
			<p>Based on a Googling of &#8220;Cygwin hard links&#8221; it would appear that NTFS supports them (not FAT). So, provided I get beyond that hurdle, am I probably OK?</p>
						<small class="commentmetadata"><a href="#comment-2803" title="">18 April 2012, 2:45 pm</a></small>
					</li>

	
	
		<li class="" id="comment-2804">
			<h4>Alex Cavnar says:</h4>
			<p>Looks like I was wrong&#8211; my apologies! </p>
<p>Heck, worst thing you can do is give it a shot. Or, if rsnapshot&#8217;s not installed, you can try doing cp -al to see if it does actually copy with hardlinks.</p>
						<small class="commentmetadata"><a href="#comment-2804" title="">18 April 2012, 2:52 pm</a></small>
					</li>

	
	
		<li class="alt" id="comment-2805">
			<h4>Clint O says:</h4>
			<p>Hi, no worries. I was able to apparently create a hard link (omit -s with ln) and the system seemed to support it, so it would seem that this isn&#8217;t a technical obstacle. I&#8217;ll see if I can download rsnapshot on my Windows 7 machine with cygwin and get it working!</p>
						<small class="commentmetadata"><a href="#comment-2805" title="">19 April 2012, 3:06 pm</a></small>
					</li>

	
	
	</ol>

 
</div>

	
	</div>

	<div id="sidebar">
	<div>
		<ul>
			<li id="text-3" class="widget widget_text">			<div class="textwidget"><center><img style="border: 1px solid gray;" src="/wp-content/uploads/2012/06/ryan-headshot-1.jpg" alt="Ryan Stille"></center></div>
		</li>
<li id="pages-3" class="widget widget_pages">
<h2 class="widgettitle">Pages</h2>

			<ul>
				<li class="page_item page-item-228"><a href="/about/">About Me</a></li>
<li class="page_item page-item-35"><a href="/projects/">My Projects</a></li>
			</ul>

			</li>
<li id="categories-3" class="widget widget_categories">
<h2 class="widgettitle">Article Categories</h2>

			<ul>
					<li class="cat-item cat-item-3">
<a href="/category/ajax-javascript/">AJAX / JavaScript</a>
</li>
	<li class="cat-item cat-item-4">
<a href="/category/bluedragon/">BlueDragon</a>
</li>
	<li class="cat-item cat-item-5">
<a href="/category/book-reviews/">Book Reviews</a>
</li>
	<li class="cat-item cat-item-6">
<a href="/category/coldfusion/">ColdFusion</a>
</li>
	<li class="cat-item cat-item-16">
<a href="/category/css/">CSS</a>
</li>
	<li class="cat-item cat-item-7">
<a href="/category/flex/">Flex</a>
</li>
	<li class="cat-item cat-item-8">
<a href="/category/linux/">Linux</a>
</li>
	<li class="cat-item cat-item-9">
<a href="/category/misc/">Misc</a>
</li>
	<li class="cat-item cat-item-10">
<a href="/category/railo/">Railo</a>
</li>
	<li class="cat-item cat-item-11">
<a href="/category/sql/">SQL</a>
</li>
	<li class="cat-item cat-item-12">
<a href="/category/system-administration/">System Administration</a>
</li>
	<li class="cat-item cat-item-13">
<a href="/category/tomcat/">Tomcat</a>
</li>
	<li class="cat-item cat-item-1">
<a href="/category/uncategorized/">Uncategorized</a>
</li>
	<li class="cat-item cat-item-14">
<a href="/category/web-development/">Web Development</a>
</li>
			</ul>

			</li>

		<li id="recent-posts-3" class="widget widget_recent_entries">
		<h2 class="widgettitle">Recent Posts</h2>

		<ul>
											<li>
					<a href="/coldfusion-formfield-as-array-cf10/">Accessing form fields as an array in CF10</a>
									</li>
											<li>
					<a href="/onerror-img-image-tag/">Did you know about the onerror attribute of the img tag?</a>
									</li>
											<li>
					<a href="/copying-sql-studio-excel-headers/">Copying data from SQL Studio to Excel</a>
									</li>
											<li>
					<a href="/dateconvert-utc-not-what-you-expect/">Using DateConvert to get a UTC timestamp may not return what you expect</a>
									</li>
											<li>
					<a href="/get-filename-before-calling-cffile/">Getting the client filename before using cffile</a>
									</li>
											<li>
					<a href="/jquery-snippet-to-get-all-input-values/">jQuery snippet to get all input values</a>
									</li>
											<li>
					<a href="/mura-404-page-not-working-in-iis7-fix-it-in-web-config/">Mura 404 page not working in IIS7 &#8211; fix it in web.config</a>
									</li>
											<li>
					<a href="/free-coldfusion-10-beta-hosting/">Free ColdFusion 10 beta hosting</a>
									</li>
											<li>
					<a href="/remove-spaces-columns-cfspreadsheet/">Removing spaces from columns in cfspreadsheet (or any query)</a>
									</li>
											<li>
					<a href="/online-code-formatters/">Online code formatters</a>
									</li>
											<li>
					<a href="/joining-two-tables-one-id/">Joining to one of two tables with one ID</a>
									</li>
											<li>
					<a href="/formatting-cfgrid-with-javascript/">Formatting CFGRID with JavaScript</a>
									</li>
											<li>
					<a href="/cf-form-array-comma-workaround/">Accessing ColdFusion form values as an array</a>
									</li>
											<li>
					<a href="/loading-fckeditor-dynamically/">Loading CFrichtext / FCKeditor on-the-fly</a>
									</li>
											<li>
					<a href="/url-rewriting-windows-2008-iis7/">Mura URL rewriting on Windows 2008 / IIS7</a>
									</li>
					</ul>

		</li>
<li id="linkcat-2" class="widget widget_links">
<h2 class="widgettitle">Blogroll</h2>

	<ul class="xoxo blogroll">
<li><a href="http://www.axelscript.com/" title="AxelScript &#8211; Flex development blog">Axel Jensen</a></li>
<li><a href="http://jake.cfwebtools.com/" title="ColdFusion/Flex development">Jake Churchill</a></li>
<li><a href="http://www.coldfusionmuse.com/" title="ColdFusion Muse">Mark Kruger</a></li>
<li><a href="http://www.henke.ws/" title="ColdFusion, TDD, Ant, Subversion, etc.">Mike Henke</a></li>

	</ul>
</li>

<li id="text-4" class="widget widget_text">
<h2 class="widgettitle">Donate</h2>
			<div class="textwidget">If my code has helped you and you'd like give a donation, you can do so using the button below.
<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_donations">
<input type="hidden" name="business" value="ryan@stillnet.org">
<input type="hidden" name="lc" value="US">
<input type="hidden" name="item_name" value="Donation for helpful ColdFusion code">
<input type="hidden" name="currency_code" value="USD">
<input type="hidden" name="bn" value="PP-DonationsBF:btn_donateCC_LG.gif:NonHostedGuest">
<input type="image" src="https://www.paypal.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypal.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>
</div>
		</li>
<li id="text-5" class="widget widget_text">			<div class="textwidget">
<br><br>
<img src="/wp-content/uploads/2010/01/acp_logo.gif">
</div>
		</li>
			
		</ul> 
	</div>
	</div>
</div> <!-- wrapper -->

<div id="footer"><div><div><div>

	<a href="/feed/">Entries (RSS)</a> and <a href="/comments/feed/">Comments (RSS)</a>. Valid <a href="http://validator.w3.org/check/referer" title="This page validates as XHTML 1.0 Transitional"><abbr title="eXtensible HyperText Markup Language">XHTML</abbr></a> and <a href="http://jigsaw.w3.org/css-validator/check/referer"><abbr title="Cascading Style Sheets">CSS</abbr></a>.<br>

	Powered by <a href="http://www.wpthemes360.com/">Wordpress Themes</a>. Theme <a href="http://srinig.com/wordpress-themes/evanescence/">Evanescence</a> by <a href="http://srinig.com/">Srini G</a>

	</div></div></div></div>

</div> <!-- page -->

</body>

</html>