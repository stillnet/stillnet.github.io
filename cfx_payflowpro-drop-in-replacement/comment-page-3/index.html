<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Stillnet Studios  &raquo; Blog Archive   &raquo; CFX_PayFlowPro to stop working in 2009 &#8211; here&#8217;s a drop in replacement</title>

<meta name="generator" content="WordPress 6.1.1"> <!-- leave this for stats -->

<link rel="stylesheet" href="/wp-content/themes/evanescence-12/style.css" type="text/css" media="screen">
<link rel="alternate" type="application/rss+xml" title="Stillnet Studios RSS Feed" href="/feed/">
<link rel="pingback" href="/xmlrpc.php">

<meta name="robots" content="max-image-preview:large">
				
	<script type="text/javascript">//<![CDATA[
	// Google Analytics for WordPress by Yoast v4.2.3 | http://yoast.com/wordpress/google-analytics/
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount','UA-1413191-1']);
	_gaq.push(['_trackPageview']);
	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
	//]]></script>
<link rel="alternate" type="application/rss+xml" title="Stillnet Studios &raquo; CFX_PayFlowPro to stop working in 2009 &#8211; here&#8217;s a drop in replacement Comments Feed" href="/cfx_payflowpro-drop-in-replacement/feed/">
<script type="text/javascript">
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"httpwww.stillnetstudios.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.1.1"}};
/*! This file is auto-generated */
!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode,e=(p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0),i.toDataURL());return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(p&&p.fillText)switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([129777,127995,8205,129778,127999],[129777,127995,8203,129778,127999])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(e=t.source||{}).concatemoji?c(e.concatemoji):e.wpemoji&&e.twemoji&&(c(e.twemoji),c(e.wpemoji)))}(window,document,window._wpemojiSettings);
</script>
<style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 0.07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}</style>
	<link rel="stylesheet" id="wp-block-library-css" href="/wp-includes/css/dist/block-library/style.min.css?ver=6.1.1" type="text/css" media="all">
<link rel="stylesheet" id="classic-theme-styles-css" href="/wp-includes/css/classic-themes.min.css?ver=1" type="text/css" media="all">
<style id="global-styles-inline-css" type="text/css">body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;}:where(.is-layout-flex){gap: 0.5em;}body .is-layout-flow > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-flow > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-flow > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-constrained > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-constrained > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > :where(:not(.alignleft):not(.alignright):not(.alignfull)){max-width: var(--wp--style--global--content-size);margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignwide{max-width: var(--wp--style--global--wide-size);}body .is-layout-flex{display: flex;}body .is-layout-flex{flex-wrap: wrap;align-items: center;}body .is-layout-flex > *{margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
.wp-block-navigation a:where(:not(.wp-element-button)){color: inherit;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}
.wp-block-pullquote{font-size: 1.5em;line-height: 1.6;}</style>
<link rel="https://api.w.org/" href="/wp-json/">
<link rel="alternate" type="application/json" href="/wp-json/wp/v2/posts/310">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml">
<meta name="generator" content="WordPress 6.1.1">
<link rel="canonical" href="/cfx_payflowpro-drop-in-replacement/comment-page-3/#comments">
<link rel="shortlink" href="/?p=310">
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Fcfx_payflowpro-drop-in-replacement%2F">
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Fcfx_payflowpro-drop-in-replacement%2F&#038;format=xml">
</head>

<body>
<div id="page">

<div id="header">
<div><div>	
	<div class="header-title">
		<h1><a href="/" title="Stillnet Studios: Web development notes and commentary from Ryan Stille">Stillnet Studios</a></h1>
		<p>Web development notes and commentary from Ryan Stille</p>
	</div> 
	<!-- Search box (If you prefer having search form as a sidebar widget, remove this block) -->
	<div class="search">
		<form method="get" id="searchform" action="http://www.stillnetstudios.com/">
<input type="text" size="12" name="s" id="s" value="search..." onblur="if(this.value=='') this.value='search...';" onfocus="if(this.value=='search...') this.value='';">
</form>
	</div> 
	<!-- Search ends here-->
</div></div>	
</div>
<div id="wrapper">

	<div id="content">

			
		<div class="navigation">
			<div class="alignleft">&laquo; <a href="/query-of-query-bug/" rel="prev">A bug with Query of Query and * ?</a>
</div>
			<div class="alignright">
<a href="/jikes-error-on-centos-52/" rel="next">coldfusion.jsp. CompilationFailedException: jikes error on CentOS 5.2</a> &raquo;</div>
		</div>

		<div class="post" id="post-310">
			<div class="post-title"><div>
				<h2><a href="/cfx_payflowpro-drop-in-replacement/" rel="bookmark" title="Permanent Link to CFX_PayFlowPro to stop working in 2009 &#8211; here&#8217;s a drop in replacement">CFX_PayFlowPro to stop working in 2009 &#8211; here&#8217;s a drop in replacement</a></h2>
			</div></div>
			<div class="post-entry">
				<blockquote style="font-color: black; font-size: 1.1em;"><p><em>Update 8/27/09:</em> I am available for consulting to help with this issue, I&#8217;ve helped quite a few people out already.  My rate is $75/hr, and you can contact me at <a href="mailto:ryan@stillnet.org">ryan@stillnet.org</a>. -thanks</p></blockquote>
<hr>
<p>If you use the CFX_PayFlowPro tag to connect to PayPal&#8217;s PayFlowPro service (formerly owned by Verisign) you should be aware that it will stop working in September of 2009.  You must transition to one of their newer connection methods before then.</p>
<p>Here is a drop in replacement custom tag you can use.  You should be able to pretty much just change your code from &#8220;CFX_PayFlowPro&#8221; to &#8220;CF_PayFlowPro&#8221;.  If you run into any issues and end up modifying the tag, please let me know and I&#8217;ll get the changes worked back into the original.<br>
<span id="more-310"></span><br>
A &#8220;thanks&#8221; to <a href="http://www.dervishmoose.com/blog/index.cfm/2008/3/10/Drop-in-replacement-for-CFXPAYFLOWPRO-on-ColdFusion-8">Mark Breneman&#8217;s blog post</a> that provided some of the code.</p>
<p>You can get the tag from <a href="http://cf_payflowpro.riaforge.org/">http://cf_payflowpro.riaforge.org</a></p>
<p>Usage examples:</p>
<p>Simple CC charge:</p>
<pre><code>&lt;cf_PAYFLOWPRO QUERY   = "RESULT"
            HOSTADDRESS   	= "#cfg_pfp_host#"
            HOSTPORT       	= "443"
            TIMEOUT        	= "30"
            TRXTYPE        	= "S"
            TENDER         	= "C"
            PARTNER 		= "PayPal"
            VENDOR 		= ""
            USER    		= "your_username"
            PWD            	= "your_password"
            ACCT           	= "#cardnum#"
            EXPDATE        	= "#Form.ccexpmo##Form.ccexpyr#"
            AMT            	= "#amt#"
            COMMENT1       	= "#Form.email#"
            COMMENT2       	= "Purchased qty #Form.qty# of #Form.product#"
            EMAIL		= "#Form.email#"
            NAME		= "#Form.ccname#"
            STREET		= "#Form.ccaddress#"
            CITY		= "#Form.cccity#"
	    STATE		= "#Form.ccstate#"
	    ZIP			= "#Form.cczip#"
            &gt;</code></pre>
<p>Setup recurring billing profile:</p>
<pre><code>	&lt;cf_PAYFLOWPRO QUERY    = "RESULT"
                HOSTADDRESS   	= "#cfg_pfp_host#"
                HOSTPORT       	= "443"
                TIMEOUT        	= "30"
                TRXTYPE        	= "R"
                TENDER         	= "C"
                PARTNER 	= "PayPal"
            	VENDOR 		= ""
           	USER    	= "your_username"
            	PWD            	= "your_password"
                ACCT           	= "#Arguments.ccnum#"
                EXPDATE        	= "#Arguments.ccexpmo##Arguments.ccexpyr#"
                AMT            	= "#lcfg_services[Arguments.subtype].cost#"
                COMMENT1       	= ""
		ACTION		= "A"
		EMAIL		= "#qryuser.email#"
		NAME		= "#Arguments.name#"
		STREET		= "#Arguments.address#"
		CITY		= "#Arguments.city#"
		STATE		= "#Arguments.state#"
		ZIP		= "#Arguments.zip#"
		START		= "#startChargeDate#"
		PROFILENAME	= "#qryuser.email#"
		PAYPERIOD	= "MONT"
		OPTIONALTRX	= "#optionaltrx#"
		OPTIONALTRXAMT	= "#optionaltrxamt#"
		TERM		= "0"
		&gt;</code></pre>
<p><strong style="size: 1.1em;">Update for CF5 users</strong>: For those of you on CF5, I&#8217;ve come up with a version that should work for you.  This will work on Windows only, unfortunately.  It uses a COM object to do the http call.  You shouldn&#8217;t need to install anything, I think the COM object its using is part of Windows.  You can download this version of the tag from here: <a href="/wp-content/uploads/2009/02/payflowpro_cf5.cfm">PayPal payflowpro for CF5</a>.</p>
<p><strong style="size: 1.1em;">Update</strong>: Several people have asked me to put up a paypal donation button so they could give something to thank me for the time I&#8217;ve saved them.  So here it is:</p>
<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_donations"><br>
<input type="hidden" name="business" value="ryan@stillnet.org"><br>
<input type="hidden" name="lc" value="US"><br>
<input type="hidden" name="item_name" value="Donation for helpful ColdFusion code"><br>
<input type="hidden" name="currency_code" value="USD"><br>
<input type="hidden" name="bn" value="PP-DonationsBF:btn_donateCC_LG.gif:NonHostedGuest"><br>
<input type="image" src="https://www.paypal.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!"><br>
<img decoding="async" alt="" border="0" src="https://www.paypal.com/en_US/i/scr/pixel.gif" width="1" height="1"><br>
</form>
							</div>
	
			<p class="post-meta">
					This entry was posted on 2 February 2009 at 10:29 am					and is filed under <a href="/category/web-development/" rel="category tag">Web Development</a>.
					You can follow any responses to this entry through the <a href="/cfx_payflowpro-drop-in-replacement/feed/">RSS 2.0</a> feed.

											Both comments and pings are currently closed.

					
			</p>
		</div>
	
<!-- You can start editing here. -->
<div id="comments">
	<h3>142 Comments</h3>

	<ol class="commentlist">

	
		<li class="alt" id="comment-682">
			<h4>Glen says:</h4>
			<p>Good news!&nbsp;&nbsp;</p>
<p>For those of you wondering if Ryan&apos;s CF5 solution resolves to the new Client Version number in PayPal Manager&#8230; it does!</p>
<p>Our transactions are now showing<br>
Client Type:&nbsp;&nbsp;Z&nbsp;&nbsp;&nbsp;&nbsp;<br>
Client Version:&nbsp;&nbsp;4.0.0.1</p>
<p>Per the PayPal Migration Tech I just spoke too, this is golden.&nbsp;&nbsp;The SDK and .NET solutions should show Client Version 4.3 or greater, but the above client type and version are expected for the HTTP solution.</p>
<p>Ryan&apos;s the man&#8230;</p>
						<small class="commentmetadata"><a href="#comment-682" title="">24 August 2009, 3:43 pm</a></small>
					</li>

	
	
		<li class="" id="comment-683">
			<h4>Ryan says:</h4>
			<p>Chuck, thanks for pointing out that issue.&nbsp;&nbsp;I&apos;ve moved the line that defaults attributes.parmlist, it should work now.</p>
<p>For those that are experiencing the connection failure &#8211; Have you restarted ColdFusion lately?&nbsp;&nbsp;CF caches (actually its the JVM) hostname lookups, so if PayPal has changed IPs at all recently, you may be connecting to the wrong IP.&nbsp;&nbsp;Restart CF and see if that helps.&nbsp;&nbsp;Also &#8211; have you imported any certificates for the paypal.com domain into your keystore?&nbsp;&nbsp;If so that may be part of the problem.&nbsp;&nbsp;You shouldn&apos;t need to import any certificates for this to work.</p>
						<small class="commentmetadata"><a href="#comment-683" title="">24 August 2009, 4:35 pm</a></small>
					</li>

	
	
		<li class="alt" id="comment-684">
			<h4>
<a href="http://www.cafebritt.com/" rel="external nofollow ugc" class="url">stevadro</a> says:</h4>
			<p>Need another help:</p>
<p>I can connect to paypal but when paypal return my contact data I get this error. I&apos;m usign CF8 on Win2003.</p>
<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;<br>
ACTION = G</p>
<p>TRXTYPE=S&amp;TENDER=P&amp;PARTNER=VeriSign&amp;VENDOR=MY_VENDOR&amp;USER=MY_USER&amp;PWD=MY_PWDqynQ&amp;ACTION=G&amp;TERM=0&amp;CERTPATH=C:\ColdFusion8\certs</p>
<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;</p>
<p>THE RETURNED ERROR:</p>
<p>Field format error: Invalid Token 7 RESULT=7&amp;RESPMSG=Field format error: Invalid Token </p>
<p>help me help me 😉</p>
						<small class="commentmetadata"><a href="#comment-684" title="">24 August 2009, 4:53 pm</a></small>
					</li>

	
	
		<li class="" id="comment-687">
			<h4>Chuck says:</h4>
			<p>Ryan, </p>
<p>I used the new code for CF5 and it ran fine, but when I went into the paypal manager the Client Version still shows :4.0.0.1 , do I need to restart the CF server or remove the old sdk?? not sure what to do?</p>
						<small class="commentmetadata"><a href="#comment-687" title="">25 August 2009, 7:36 am</a></small>
					</li>

	
	
		<li class="alt" id="comment-688">
			<h4>Ryan says:</h4>
			<p>Chuck the 4.0.0.1 version number would be the correct one.&nbsp;&nbsp;Dig around on the PayPal developer forums for more details.&nbsp;&nbsp;They say the https interface will show up as 4.0 or 4.0.0.1.</p>
						<small class="commentmetadata"><a href="#comment-688" title="">25 August 2009, 7:40 am</a></small>
					</li>

	
	
		<li class="" id="comment-689">
			<h4>Chuck says:</h4>
			<p>Ryan,</p>
<p>Just to let everyone else know, Paypals forums state this:</p>
<p>Anything with Client Type = Z (which would have client version 4.0.0.0 or 4.0.0.1) means you are using the HTTPS Interface and you are good to go.</p>
<p>I thank everyone here for their help and Ryan, I would suggest placing a PayPal donate button here so we can give back to the person who made this work.</p>
						<small class="commentmetadata"><a href="#comment-689" title="">25 August 2009, 7:49 am</a></small>
					</li>

	
	
		<li class="alt" id="comment-690">
			<h4>
<a href="http://www.cafebritt.com/" rel="external nofollow ugc" class="url">stevadro</a> says:</h4>
			<p>Morning,</p>
<p>Aside the cf_payflowpro code update, I need to update anything in the paypal management console?</p>
						<small class="commentmetadata"><a href="#comment-690" title="">25 August 2009, 8:30 am</a></small>
					</li>

	
	
		<li class="" id="comment-691">
			<h4>Kassim says:</h4>
			<p>Ryan,<br>
I am getting connection failure error when I use <a href="https://pilot-payflowpro.paypal.com/transaction" rel="nofollow ugc">https://pilot-payflowpro.paypal.com/transaction</a></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;cfhttpparam type=&quot;body&quot; value=&quot;USER[4]=test&amp;PWD[4]=test&quot;&gt;<br>
&lt;/cfhttp&gt;<br>
&lt;cfdump var=&quot;#cfhttp#&quot;&gt;</p>
<p>OUTPUT<br>
struct<br>
Charset &nbsp;&nbsp;&nbsp;&nbsp;[empty string]<br>
ErrorDetail &nbsp;&nbsp;&nbsp;&nbsp;I/O Exception: peer not authenticated<br>
Filecontent &nbsp;&nbsp;&nbsp;&nbsp;Connection Failure<br>
Header &nbsp;&nbsp;&nbsp;&nbsp;[undefined struct element]<br>
Mimetype &nbsp;&nbsp;&nbsp;&nbsp;Unable to determine MIME type of file.<br>
Responseheader &nbsp;&nbsp;&nbsp;&nbsp;<br>
struct [empty]<br>
Statuscode &nbsp;&nbsp;&nbsp;&nbsp;Connection Failure. Status code unavailable.<br>
Text &nbsp;&nbsp;&nbsp;&nbsp;YES</p>
<p>When I use <a href="https://pilot-payflowpro.verisign.com/transaction" rel="nofollow ugc">https://pilot-payflowpro.verisign.com/transaction</a> it is working fine. From one of the comments it looks like this url will be deprecated as of 09/01/09.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;cfhttpparam type=&quot;body&quot; value=&quot;USER[4]=test&amp;PWD[4]=test&quot;&gt;<br>
&lt;/cfhttp&gt;<br>
&lt;cfdump var=&quot;#cfhttp#&quot;&gt;</p>
<p>Charset &nbsp;&nbsp;&nbsp;&nbsp;[empty string]<br>
ErrorDetail &nbsp;&nbsp;&nbsp;&nbsp;[empty string]<br>
Filecontent &nbsp;&nbsp;&nbsp;&nbsp;RESULT=1&amp;RESPMSG=User authentication failed<br>
Header &nbsp;&nbsp;&nbsp;&nbsp;HTTP/1.1 200 OK Content-type: text/namevalue Connection: close Date: Tue, 25 Aug 2009 15:16:39 GMT Content-length: 43 Server: VPS-3.033.00<br>
Mimetype &nbsp;&nbsp;&nbsp;&nbsp;text/namevalue<br>
Responseheader &nbsp;&nbsp;&nbsp;&nbsp;<br>
verisign &#8211; struct<br>
Connection &nbsp;&nbsp;&nbsp;&nbsp;close<br>
Content-length &nbsp;&nbsp;&nbsp;&nbsp;43<br>
Content-type &nbsp;&nbsp;&nbsp;&nbsp;text/namevalue<br>
Date &nbsp;&nbsp;&nbsp;&nbsp;Tue, 25 Aug 2009 15:16:39 GMT<br>
Explanation &nbsp;&nbsp;&nbsp;&nbsp;OK<br>
Http_Version &nbsp;&nbsp;&nbsp;&nbsp;HTTP/1.1<br>
Server &nbsp;&nbsp;&nbsp;&nbsp;VPS-3.033.00<br>
Status_Code &nbsp;&nbsp;&nbsp;&nbsp;200<br>
Statuscode &nbsp;&nbsp;&nbsp;&nbsp;200 OK<br>
Text &nbsp;&nbsp;&nbsp;&nbsp;YES</p>
<p>Please provide me details how to fix it.</p>
						<small class="commentmetadata"><a href="#comment-691" title="">25 August 2009, 9:20 am</a></small>
					</li>

	
	
		<li class="alt" id="comment-693">
			<h4>EstebanD says:</h4>
			<p>Hi Ryan, thank you for taking the time to share this code.</p>
<p>Reading the latest documentation on PayFlow Pro I noticed that double quotes are forbidden from parameter values. So I did little changes in the block of code that creates the parameters list, so now it complies with the previous constraint and other minor improvements to improve the overall stability and readability of the code.</p>
<p>&lt;cfset ParmList = &quot;&quot;&gt;<br>
&lt;cfloop list=&quot;TRXTYPE,TENDER,PARTNER,VENDOR,USER,PWD,ACCT,EXPDATE,AMT,COMMENT1,COMMENT2,ACTION,EMAIL,NAME,STREET,CITY,STATE,ZIP,START,PROFILENAME,PAYPERIOD,OPTIONALTRX,OPTIONALTRXAMT,IP,PHONENUM,TERM,ORIGPROFILEID,ORIGID,ABA,ACCTTYPE&quot; index=&quot;field&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;cfif StructKeyExists(Attributes,field) AND Len(Trim(Attributes[field]))&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;cfset attributeField = Replace(Trim(Attributes[field]),Chr(34),&quot;&quot;,&quot;all&quot;)&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;cfif Len(attributeField) GT 0&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;cfset ParmList = ListAppend(ParmList,&quot;#field#[#Len(attributeField)#]=#attributeField#&quot;,&quot;&amp;&quot;)&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/cfif&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/cfif&gt;<br>
&lt;/cfloop&gt;</p>
						<small class="commentmetadata"><a href="#comment-693" title="">26 August 2009, 9:23 am</a></small>
					</li>

	
	
		<li class="" id="comment-694">
			<h4>
<a href="http://VetFriends.com/" rel="external nofollow ugc" class="url">Dale Sutcliffe</a> says:</h4>
			<p>Found a problem with the program &#8212; fails on pilot-payflowpro.paypal.com works on payflowpro.paypal.com</p>
						<small class="commentmetadata"><a href="#comment-694" title="">26 August 2009, 11:53 am</a></small>
					</li>

	
	
		<li class="alt" id="comment-695">
			<h4>
<a href="http://VetFriends.com/" rel="external nofollow ugc" class="url">Dale Sutcliffe</a> says:</h4>
			<p>Returns&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CONNECTION_FAILURE</p>
						<small class="commentmetadata"><a href="#comment-695" title="">26 August 2009, 12:02 pm</a></small>
					</li>

	
	
		<li class="" id="comment-696">
			<h4>Mike Murdy says:</h4>
			<p>Dale &#8211; </p>
<p>We have come to the same conclusion. Follow this thread on the PayPal Dev forum:</p>
<p><a href="http://developer.paypal-portal.com/pdn/board/message?board.id=payflow&#038;message.id=9031#M9031" rel="nofollow ugc">http://developer.paypal-portal.com/pdn/board/message?board.id=payflow&#038;message.id=9031#M9031</a></p>
<p>Cheers!</p>
<p>Mike</p>
						<small class="commentmetadata"><a href="#comment-696" title="">26 August 2009, 12:55 pm</a></small>
					</li>

	
	
		<li class="alt" id="comment-697">
			<h4>
<a href="http://www.cafebritt.com/" rel="external nofollow ugc" class="url">Steve</a> says:</h4>
			<p>CF8: I can connect to paypal but when paypal return my billing data I receibe this error:</p>
<p>Using Action : G</p>
<p>TRXTYPE=S&amp;TENDER=P&amp;PARTNER=VeriSign&amp;VENDOR=MY_VENDOR&amp;USER=MY_USER&amp;PWD=MY_PWDqynQ&amp;ACTION=G&amp;TERM=0&amp;CERTPATH=C:\ColdFusion8\certs&amp;Token=XXX</p>
<p>Paypal return:</p>
<p>Field format error: Invalid Token 7 RESULT=7&amp;RESPMSG=Field format error: Invalid Token</p>
						<small class="commentmetadata"><a href="#comment-697" title="">26 August 2009, 1:59 pm</a></small>
					</li>

	
	
		<li class="" id="comment-698">
			<h4>Andy says:</h4>
			<p>Hi All, I&apos;m using this tag to replace CFX_PAYFLOW on our CFMX (6.1) system.&nbsp;&nbsp;The CF_PAYFLOW tag works great with our paypal account when calling it directly, but we&apos;re having a problem with the main client system, which is a remote PHP4 server.&nbsp;&nbsp;</p>
<p>The PAYFLOW functionality is exposed via a CF-based API that accepts WDDX packets (which contain all of the relevant paypal params), takes them apart, and passes the params down to the PAYFLOW tag, and then returns the results as another WDDX packet.&nbsp;&nbsp;The return packet contains the RESULTSTR from PAYFLOW, as well as a few other values.&nbsp;&nbsp;</p>
<p>The problem is that the PHP code on the client system is blowing up when trying to deserialize the WDDX packet constructed from the CF_PAYFLOW results, but it works fine with the packet constructed from the CF*X*_PAYFLOW results.&nbsp;&nbsp;All I&apos;ve done is replace the one CFX_PAYFLOW call we have in the code with CF_PAYFLOW, so I think CF_PAYFLOW may be doing something (when creating the tmpResponse query, or when adding the cfhttp.FileContent from the paypal call to the query) that formats RESULTSTR in a way that&apos;s slightly different from what CF*X*_PAYFLOW is doing.&nbsp;&nbsp;</p>
<p>The CF_PAYFLOW code is very straightforward, and I&apos;ve done numerous debugging tests trying to figure out exactly what the issue is (cfdumps of the return data/packet look the same to me for CFX_ and CF_PAYFLOW when I eyeball them), so I&apos;m not sure where to look next.&nbsp;&nbsp;Any suggestions/help would be greatly appreciated &#8212;</p>
<p>Andy</p>
						<small class="commentmetadata"><a href="#comment-698" title="">27 August 2009, 12:36 am</a></small>
					</li>

	
	
		<li class="alt" id="comment-699">
			<h4>Vern says:</h4>
			<p>This may be really lame, if so, I apologize, but, I&apos;ve been struggling to get to the bottom of all this&#8230; I&apos;m using the java based CFX_PayFlowPro that I got from Verisign not all that long ago. I just want to make sure that I correctly understand that the java version of this going away all together, and that the CF_PayFlowPro provided by by RIAforge is designed to replace that, and not some earlier version of their own CFX tag. Whew&#8230; Is that correct?</p>
<p>Thanks!</p>
						<small class="commentmetadata"><a href="#comment-699" title="">27 August 2009, 9:06 am</a></small>
					</li>

	
	
		<li class="" id="comment-700">
			<h4>Ryan says:</h4>
			<p>Vern you are correct.&nbsp;&nbsp;The connection method used by CFX_PayFlowPro will no longer be supported.&nbsp;&nbsp;There is no update to CFX_PayFlowPro to support the new method.&nbsp;&nbsp;Instead, use my CF_PayFlowPro tag.&nbsp;&nbsp;You can delete the CFX_PayFlowPro tag from your system after migrating off of it.&nbsp;&nbsp;If you need help, I&apos;m available for consulting.</p>
						<small class="commentmetadata"><a href="#comment-700" title="">27 August 2009, 9:14 am</a></small>
					</li>

	
	
		<li class="alt" id="comment-701">
			<h4>Jammie says:</h4>
			<p>I am getting a connection failure message using the CF5 tag.&nbsp;&nbsp;Any thoughts??</p>
						<small class="commentmetadata"><a href="#comment-701" title="">27 August 2009, 1:59 pm</a></small>
					</li>

	
	
		<li class="" id="comment-702">
			<h4>Jammie says:</h4>
			<p>On line 65 of PayProFlow.cfm I am getting this error now:<br>
The server name or address could not be resolved</p>
						<small class="commentmetadata"><a href="#comment-702" title="">27 August 2009, 2:47 pm</a></small>
					</li>

	
	
		<li class="alt" id="comment-703">
			<h4>Ryan says:</h4>
			<p>I&apos;ve received several requests to add a PayPal donate button, so people could send me a contribution for helping them out.&nbsp;&nbsp;I&apos;ve added a button on the bottom right sidebar of this site.&nbsp;&nbsp;Thanks!</p>
						<small class="commentmetadata"><a href="#comment-703" title="">27 August 2009, 4:03 pm</a></small>
					</li>

	
	
		<li class="" id="comment-715">
			<h4>Jeff says:</h4>
			<p>I&apos;ve got a couple of sites where the live hostaddress, payflowpro.verisign.com works fine but pilot-payflowpro.verisign.com generates the connection failure error: </p>
<p>The column name &quot;Connection Failure&quot; is invalid.</p>
<p>Column names must be valid variable names. They must start with a letter and can only include letters, numbers, and underscores.</p>
<p>Anybody else running into this? Any ideas why?</p>
<p>Thanks!</p>
						<small class="commentmetadata"><a href="#comment-715" title="">9 September 2009, 1:55 pm</a></small>
					</li>

	
	
		<li class="alt" id="comment-906">
			<h4>Melinda says:</h4>
			<p>We have 3 servers that run our website &#8211; I think MS Server Manager with IIS.&nbsp;&nbsp;2 servers work correctly and the 3rd constantly returns connection failure.&nbsp;&nbsp;I&apos;ve trapped the connection failure error and it is always the 3rd server.&nbsp;&nbsp;</p>
<p>I added the suggested header changes to cfhttp &lt;cfhttpparam type=&quot;Header&quot; name=&quot;Accept-Encoding&quot; value=&quot;*&quot;&gt; and&nbsp;&nbsp; &lt;cfhttpparam type=&quot;Header&quot; name=&quot;TE&quot; value=&quot;deflate;q=0&quot;&gt;.&nbsp;&nbsp;I also requested our server admin turn off compression until we can get the problem figured out.&nbsp;&nbsp;Nothing seems to work in getting the request out from our 3rd server.</p>
<p>We also have a proxy server that all 3 servers use, but I don&apos;t understand why 2 would work flawlessly and the 3rd is always a bomb???&nbsp;&nbsp;I&apos;ve been told the servers are exact duplicates in hardware and image.</p>
<p>Any thoughts for what we should be looking into?</p>
<p>Thanks!</p>
						<small class="commentmetadata"><a href="#comment-906" title="">17 December 2009, 8:15 am</a></small>
					</li>

	
	
		<li class="" id="comment-907">
			<h4>Melinda says:</h4>
			<p>My server issue turned out to be a Windows update that wiped out the proxy settings on the 3rd server&#8230;. working for now.&nbsp;&nbsp;Our server admins are looking into the proxy server.</p>
						<small class="commentmetadata"><a href="#comment-907" title="">17 December 2009, 9:02 am</a></small>
					</li>

	
	
		<li class="alt" id="comment-908">
			<h4>Ryan says:</h4>
			<p>Melinda, I&apos;m glad you got it worked out.</p>
						<small class="commentmetadata"><a href="#comment-908" title="">17 December 2009, 9:08 am</a></small>
					</li>

	
	
		<li class="" id="comment-909">
			<h4>Melinda says:</h4>
			<p>Thanks Ryan! I have a better idea what to troubleshoot now with our server admins.</p>
<p>I apprecate all the work you&apos;ve done with this cfc!</p>
						<small class="commentmetadata"><a href="#comment-909" title="">17 December 2009, 9:10 am</a></small>
					</li>

	
	
		<li class="alt" id="comment-911">
			<h4>Rick Anthony says:</h4>
			<p>Thanks for the tag! </p>
<p>This worked beautifully as a drop-in replacement, as advertised. </p>
<p>One slight tweak I made that might be useful to others: The way you have the tag set up, PayPal will pass the entire name into the &quot;Billing First Name&quot; field (in PayPal Manager, for reporting). </p>
<p>If you simply add FIRSTNAME and LASTNAME after NAME to the list of fields in PayFlowPro.cfm (line 35), then add those parameters to your call to the tag, everything will be passed in to PayPal as expected.</p>
<p>I.e.:<br>
Line 35:&lt;cfloop list=&quot;TRXTYPE,TENDER,PARTNER,VENDOR,USER,PWD,ACCT,EXPDATE,AMT,CVV2,COMMENT1,COMMENT2,ACTION,EMAIL,NAME,FIRSTNAME,LASTNAME,STREET,CITY,STATE,ZIP,START,PROFILENAME,PAYPERIOD,OPTIONALTRX,OPTIONALTRXAMT,IP,PHONENUM,TERM,ORIGPROFILEID,ORIGID,ABA,ACCTTYPE&quot; index=&quot;field&quot;&gt;</p>
<p>Tag call:<br>
&lt;cf_payflowpro QUERY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HOSTADDRESS&nbsp;&nbsp;&nbsp;&nbsp;= &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HOSTPORT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;443&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIMEOUT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;30&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PROXYADDRESS&nbsp;&nbsp; = &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PROXYPORT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PROXYLOGON&nbsp;&nbsp;&nbsp;&nbsp; = &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PROXYPASSWORD&nbsp;&nbsp;= &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TRXTYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;S&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TENDER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;C&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PARTNER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;USER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PWD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ACCT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EXPDATE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AMT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COMMENT1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COMMENT2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FIRSTNAME &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LASTNAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EMAIL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;STREET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CITY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;STATE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ZIP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BILLTOCOUNTRY = &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PARMLIST = &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;</p>
						<small class="commentmetadata"><a href="#comment-911" title="">17 December 2009, 2:39 pm</a></small>
					</li>

	
	
		<li class="" id="comment-1152">
			<h4>ben says:</h4>
			<p>Hi, </p>
<p>this tag is working well for me using CF7. However, I cannot get it to process test transactions.<br>
I&apos;ve used every URL suggested by paypal, and have tried to follow links to posted solutions (all are deal links so far)</p>
<p>Has anyone gotten this tag to work with any test URL?</p>
<p>I&apos;m simply getting:</p>
<p>Result is undefined in result.</p>
<p>Using a live URL works fine of course (payflowpro.paypal.com)<br>
the test URL fails: pilot-payflowpro.paypal.com</p>
<p>paypal is no help. (surprise, surprise)<br>
they keep suggesting the same test URL, which I&apos;ve told them is not working for this tag. OUSTSOURCE EVERYTHING TO INDIA! they sound so nice telling you that they haven&apos;t got a clue. ballywood for everyone! more dancing and colors! just nothing useful as far as technical info!</p>
<p>surely someone who speaks english, has run into this issue with this tag and paypal.</p>
						<small class="commentmetadata"><a href="#comment-1152" title="">17 February 2010, 2:40 pm</a></small>
					</li>

	
	
		<li class="alt" id="comment-1153">
			<h4>EstebanD says:</h4>
			<p>@ben</p>
<p>I just retested the tag using pilot-payflowpro.paypal.com and it worked fine. Try the following.<br>
1) Make sure you are using https for the test site.<br>
2) Make sure your paypal manager is in test mode.</p>
						<small class="commentmetadata"><a href="#comment-1153" title="">17 February 2010, 6:05 pm</a></small>
					</li>

	
	
		<li class="" id="comment-1154">
			<h4>ben says:</h4>
			<p>@esteban,</p>
<p>thanks for that.</p>
<p>1. the https:// seems to be hardcoded in the payflowpro drop in tag.<br>
2. if I put the paypal manager in test mode, won&apos;t it interfere with live transactions for the same account?<br>
&nbsp;&nbsp; (I know thats not a tag specific question, but &#8230;)</p>
						<small class="commentmetadata"><a href="#comment-1154" title="">17 February 2010, 6:41 pm</a></small>
					</li>

	
	
		<li class="alt" id="comment-1155">
			<h4>EstebanD says:</h4>
			<p>@Ben</p>
<p>Sorry I don&apos;t know the answer to (2). We have a independent test account for this purpose.<br>
I think you can quickly create a new account for testing.</p>
<p>Maybe before that put a cfdump fter the block that handles the post &lt;cfhtt /&gt; to see what is returning.</p>
<p>&lt;cfhttp method=&quot;POST&quot; url=&quot;<a rel="nofollow ugc">https://#Attributes.hostaddress#/transaction&#038;quot</a>; resolveurl=&quot;no&quot; timeout=&quot;#Attributes.TIMEOUT#&quot; port=&quot;#Attributes.HOSTPORT#&quot;&gt;<br>
&nbsp;&nbsp; &lt;cfhttpparam type=&quot;header&quot; name=&quot;Content-Type&quot; VALUE=&quot;text/namevalue&quot;&gt;<br>
&nbsp;&nbsp; &lt;cfhttpparam type=&quot;header&quot; name=&quot;Content-Length&quot; VALUE=&quot;#Len(ParmList)#&quot;&gt;<br>
&nbsp;&nbsp; &lt;cfhttpparam type=&quot;header&quot; name=&quot;Host&quot; value=&quot;#Attributes.hostaddress#&quot;&gt;<br>
&nbsp;&nbsp; &lt;cfhttpparam type=&quot;header&quot; name=&quot;X-VPS-REQUEST-ID&quot; VALUE=&quot;#Attributes.requestID#&quot;&gt;<br>
&nbsp;&nbsp; &lt;cfhttpparam type=&quot;header&quot; name=&quot;X-VPS-CLIENT-TIMEOUT&quot; VALUE=&quot;#Attributes.TIMEOUT#&quot;&gt;<br>
&nbsp;&nbsp; &lt;cfhttpparam type=&quot;header&quot; name=&quot;X-VPS-VITCLIENTCERTIFICATION-ID&quot; VALUE=&quot;#Attributes.PARTNER##Attributes.USER#&quot;&gt;<br>
&nbsp;&nbsp; &lt;cfhttpparam type=&quot;body&quot; value=&quot;#ParmList#&quot;&gt;<br>
&lt;/cfhttp&gt;<br>
&lt;cfdump var=&quot;#cfhttp#&quot;&gt;</p>
						<small class="commentmetadata"><a href="#comment-1155" title="">17 February 2010, 6:47 pm</a></small>
					</li>

	
	
		<li class="" id="comment-1499">
			<h4>BradB says:</h4>
			<p>Hi &#8211; thanks for the great tag.&nbsp;&nbsp;Up until a couple days ago (Friday the 11th) it was a flawless dropin for the CFX_Payflowpro.&nbsp;&nbsp;It appears to have stopped working, though the code had not been touched at all since mid-February and the code in question has been the same for years.&nbsp;&nbsp;Using CFMX 7:</p>
<p>&lt;CF_PAYFLOWPRO QUERY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;myRESULT&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HOSTADDRESS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;payflowpro.paypal.com&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HOSTPORT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;443&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIMEOUT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;30&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PROXYADDRESS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PROXYPORT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PROXYLOGON&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PROXYPASSWORD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TRXTYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;S&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TENDER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;C&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PARTNER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;VeriSign&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;USER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= ********<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PWD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= ********<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ACCT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;#cardnumb#&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EXPDATE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;#expdate#&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AMT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;#fee#&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CERTPATH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= ********<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QTY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;1&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;#cardname#&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;STREET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;#st1#&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BILLTOSTREET2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;#st2#&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CITY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;#city#&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;STATE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;#state#&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ZIP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;#zip#&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COUNTRY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;#country#&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PHONENUM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;#tempphone#&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EMAIL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;#email#&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SHIPTOFIRSTNAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SHIPTOMIDDLENAME&nbsp;&nbsp;&nbsp;&nbsp;= &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SHIPTOLASTNAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SHIPTOSTREET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;#sst1#&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SHIPTOSTREET2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;#sst2#&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SHIPTOCITY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;#scity#&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SHIPTOSTATE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;#sstate#&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SHIPTOZIP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;#szip#&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SHIPTOCOUNTRY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;#scountry#&quot;<br>
COMMENT1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;#seasonWord# #year# Registration&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;</p>
<p>The above no longer appears to be passing to Verisign, though the CF error is on the next line (usually if the CF hangs on something else the card will be charged but there&apos;s no evidence of a transaction):</p>
<p>&lt;CFIF myRESULT.result IS 0&gt;</p>
<p>Results in an thrown &quot;Element RESULT is undefined in MYRESULT.&quot;</p>
<p>As I say we&apos;ve been doing things this way for 4-5 years without a change in this code or any errors.</p>
<p>I rolled back any recent updates to Server 2003 and Java but no luck.&nbsp;&nbsp;I was hoping there was some sort of &quot;big&quot; change and this would be happening to loads of folks but so far i have found no mention on any boards.</p>
<p>Suggestions?</p>
<p>Thanks!</p>
						<small class="commentmetadata"><a href="#comment-1499" title="">16 June 2010, 9:15 pm</a></small>
					</li>

	
	
		<li class="alt" id="comment-1500">
			<h4>Ryan says:</h4>
			<p>Hi BradB, I&apos;m sorry but this is the first I&apos;ve heard of that problem.</p>
<p>You&apos;ll need to do some more debugging to see what exactly is being returned from PayPal.&nbsp;&nbsp;Start by just dumping out myRESULT, and if thats blank you&apos;ll need to put some dumps in the tag itself.</p>
						<small class="commentmetadata"><a href="#comment-1500" title="">16 June 2010, 10:01 pm</a></small>
					</li>

	
	
		<li class="" id="comment-1501">
			<h4>BradB says:</h4>
			<p>Are these in a CFOUTPUT QUERY enough?<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;b&gt;PARMLIST:&lt;/b&gt; #PARMLIST#&lt;BR&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;b&gt;RESULTSTR:&lt;/b&gt; #RESULTSTR#&lt;BR&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;b&gt;VERSION:&lt;/b&gt; #VERSION#&lt;BR&gt;&lt;BR&gt;</p>
<p>Thanks!</p>
						<small class="commentmetadata"><a href="#comment-1501" title="">16 June 2010, 10:28 pm</a></small>
					</li>

	
	
		<li class="alt" id="comment-1502">
			<h4>
<a href="http://websauce.net/" rel="external nofollow ugc" class="url">ben</a> says:</h4>
			<p>in response to BradB.</p>
<p>Paypal just updated their root SSL certificates a few days ago, and it screwed a lot of folks up. Ryan&apos;s tag still works fine, its just that your host may need to update their root certs and add them to the java keystore in cfmx7.<br>
I had the same issue. it worked fine for years then it failed.</p>
<p>basically, until you update the certs on your machine with at least G2 certs from verisign, paypal won&apos;t answer a http request from coldfusion.</p>
<p>hope that helps</p>
						<small class="commentmetadata"><a href="#comment-1502" title="">17 June 2010, 3:11 am</a></small>
					</li>

	
	
		<li class="" id="comment-1503">
			<h4>BradB says:</h4>
			<p>Thanks Ryan and ben.&nbsp;&nbsp;It clearly seems to be related to the cert update, though so far the G2 update (I am also the host) does not seem to resolve the problem.&nbsp;&nbsp;The folks at Paypal seem to be willing to reluctanty admit an issue, but appear to have no method of resolution.&nbsp;&nbsp;It may be complicated by the fact that I buy my certs from Comodo and there are G2 root certs from different authorities (Verisign, Thawte, etc.) but Comodo does not seem to even understand what they are and I&apos;m haing trouble getting a Comodo root kit that is compatible with the new Paypal system.</p>
						<small class="commentmetadata"><a href="#comment-1503" title="">18 June 2010, 9:00 am</a></small>
					</li>

	
	
		<li class="alt" id="comment-1504">
			<h4>
<a href="http://www.ascb.org/" rel="external nofollow ugc" class="url">Eleni Hailu</a> says:</h4>
			<p>BradB:&nbsp;&nbsp;I had the same issue like you but after multiple call to paypal I managed to fix the problem.&nbsp;&nbsp;You need to update the certificate not only in the root but also inside the Coldfusion folder &#8211; YOU HAVE TO DO IT IN BOTH PLACES.&nbsp;&nbsp;Below is the information they provide in connection with this:</p>
<p>1. Download the certs from VeriSign at<br>
<a href="https://www.verisign.com/support/roots.html" rel="nofollow ugc">https://www.verisign.com/support/roots.html</a></p>
<p>2. Open zip and location the Cert file that needs to be updated.<br>
In this case the &quot;VeriSign Class 3 &#8211; G2&quot;. Take note of it&apos;s location<br>
on the server. Recommend renaming it to have no spaces and then<br>
putting it in the &quot;C:\CFusiomMX7\runtime\jre\lib\security&quot; folder.</p>
<p>3. Open command prompt and type &quot;cd c:\CFusionmx7\runtime\jre\bin&quot;<br>
or the location of the &quot;keytool.exe&quot; file and hit enter.<br>
Don&apos;t try to run the keytool.exe without the next step. It won&apos;t<br>
hurt anything, but it won&apos;t do anything either.</p>
<p>4. Now type the following replacing what it necessary<br>
(such as the cert file name from step 2 above and alias name)</p>
<p>keytool -import -trustcacerts &#8211; keystore c:/cfusionmx7/runtime/jre/lib/security/cacerts -file c:/cfusionmx7/runtime/jre/lib/security/Class_3_Public_Primary_Certification_Authority_G2.cer -alias VeriSignG2</p>
<p>5. You&apos;ll be prompted for a password and as long as you haven&apos;t<br>
ever changed it, it should be &quot;changeit&quot;, which is the default.</p>
<p>6. You&apos;ll be prompted to approve the request. Type &quot;yes&quot;<br>
without the quotes and hit enter</p>
<p>7. A bunch of text should appear validating the installation. If you<br>
get an error, make sure your path and file names are correct in<br>
the step above.</p>
<p>8. To verify, go to the jre\lib\security directory in Windows Explorer<br>
and make sure the files modified date is today&apos;s date.</p>
<p>Hope this will help.</p>
<p>Thanks,</p>
<p>Eleni</p>
						<small class="commentmetadata"><a href="#comment-1504" title="">18 June 2010, 9:48 am</a></small>
					</li>

	
	
		<li class="" id="comment-1586">
			<h4>Chuck says:</h4>
			<p>A couple of days ago our CF5 server stopped processing credit cards, is the paypal root cert update why? nothing has changed.. and if so what procedure do I use.. running IIS6.. Thanks</p>
						<small class="commentmetadata"><a href="#comment-1586" title="">30 July 2010, 7:02 am</a></small>
					</li>

	
	
		<li class="alt" id="comment-1587">
			<h4>ben says:</h4>
			<p>Hi Chuck:</p>
<p>Have you updated the root certs? That fixed my problem the last time this tag, &quot;stopped&quot; working.&nbsp;&nbsp; The only time I&apos;ve seen this tag stop working, is when paypal changes something without telling anyone (like the URL, or requiring the cert update)</p>
<p>Lemme see if I can&apos;t find my post with what I did to update certs.<br>
also running IIS6</p>
						<small class="commentmetadata"><a href="#comment-1587" title="">30 July 2010, 8:41 am</a></small>
					</li>

	
	
		<li class="" id="comment-1588">
			<h4>ben says:</h4>
			<p>here is one link of paypal helping my confused head:<br>
<a href="https://www.x.com/message/164414#164414" rel="nofollow ugc">https://www.x.com/message/164414#164414</a></p>
<p>here is the other link after I figured it out and posted the steps that worked for me:<br>
<a href="https://www.x.com/message/175135#175135" rel="nofollow ugc">https://www.x.com/message/175135#175135</a></p>
<p>I can&apos;t say if this will help with CF5, or if this is really your issue, but last time it &quot;stopped&quot; working .. this was the fix.</p>
<p>good luck.</p>
						<small class="commentmetadata"><a href="#comment-1588" title="">30 July 2010, 8:49 am</a></small>
					</li>

	
	
		<li class="alt" id="comment-1589">
			<h4>Chuck says:</h4>
			<p>thanks, yes nothing changed on our box except it just stopping processing.. could paypal changed their url?</p>
						<small class="commentmetadata"><a href="#comment-1589" title="">30 July 2010, 8:56 am</a></small>
					</li>

	
	
		<li class="" id="comment-1590">
			<h4>Melinda says:</h4>
			<p>Chuck-<br>
Not sure this will help, but when this happened to me it was related to changes made to our proxy server&#8230; the dns name did not work, but fixed by changing to proxy server ip.</p>
						<small class="commentmetadata"><a href="#comment-1590" title="">30 July 2010, 9:01 am</a></small>
					</li>

	
	
		<li class="alt" id="comment-1632">
			<h4>
<a href="http://www.palawanhotels.org/" rel="external nofollow ugc" class="url">Palawan Hotels</a> says:</h4>
			<p>I think you can change the url for the paypal</p>
						<small class="commentmetadata"><a href="#comment-1632" title="">16 August 2010, 8:57 am</a></small>
					</li>

	
	
		<li class="" id="comment-1633">
			<h4>Chuck says:</h4>
			<p>to what?</p>
						<small class="commentmetadata"><a href="#comment-1633" title="">16 August 2010, 9:12 am</a></small>
					</li>

	
	
	</ol>

 
</div>

	
	</div>

	<div id="sidebar">
	<div>
		<ul>
			<li id="text-3" class="widget widget_text">			<div class="textwidget"><center><img style="border: 1px solid gray;" src="/wp-content/uploads/2012/06/ryan-headshot-1.jpg" alt="Ryan Stille"></center></div>
		</li>
<li id="pages-3" class="widget widget_pages">
<h2 class="widgettitle">Pages</h2>

			<ul>
				<li class="page_item page-item-228"><a href="/about/">About Me</a></li>
<li class="page_item page-item-35"><a href="/projects/">My Projects</a></li>
			</ul>

			</li>
<li id="categories-3" class="widget widget_categories">
<h2 class="widgettitle">Article Categories</h2>

			<ul>
					<li class="cat-item cat-item-3">
<a href="/category/ajax-javascript/">AJAX / JavaScript</a>
</li>
	<li class="cat-item cat-item-4">
<a href="/category/bluedragon/">BlueDragon</a>
</li>
	<li class="cat-item cat-item-5">
<a href="/category/book-reviews/">Book Reviews</a>
</li>
	<li class="cat-item cat-item-6">
<a href="/category/coldfusion/">ColdFusion</a>
</li>
	<li class="cat-item cat-item-16">
<a href="/category/css/">CSS</a>
</li>
	<li class="cat-item cat-item-7">
<a href="/category/flex/">Flex</a>
</li>
	<li class="cat-item cat-item-8">
<a href="/category/linux/">Linux</a>
</li>
	<li class="cat-item cat-item-9">
<a href="/category/misc/">Misc</a>
</li>
	<li class="cat-item cat-item-10">
<a href="/category/railo/">Railo</a>
</li>
	<li class="cat-item cat-item-11">
<a href="/category/sql/">SQL</a>
</li>
	<li class="cat-item cat-item-12">
<a href="/category/system-administration/">System Administration</a>
</li>
	<li class="cat-item cat-item-13">
<a href="/category/tomcat/">Tomcat</a>
</li>
	<li class="cat-item cat-item-1">
<a href="/category/uncategorized/">Uncategorized</a>
</li>
	<li class="cat-item cat-item-14">
<a href="/category/web-development/">Web Development</a>
</li>
			</ul>

			</li>

		<li id="recent-posts-3" class="widget widget_recent_entries">
		<h2 class="widgettitle">Recent Posts</h2>

		<ul>
											<li>
					<a href="/coldfusion-formfield-as-array-cf10/">Accessing form fields as an array in CF10</a>
									</li>
											<li>
					<a href="/onerror-img-image-tag/">Did you know about the onerror attribute of the img tag?</a>
									</li>
											<li>
					<a href="/copying-sql-studio-excel-headers/">Copying data from SQL Studio to Excel</a>
									</li>
											<li>
					<a href="/dateconvert-utc-not-what-you-expect/">Using DateConvert to get a UTC timestamp may not return what you expect</a>
									</li>
											<li>
					<a href="/get-filename-before-calling-cffile/">Getting the client filename before using cffile</a>
									</li>
											<li>
					<a href="/jquery-snippet-to-get-all-input-values/">jQuery snippet to get all input values</a>
									</li>
											<li>
					<a href="/mura-404-page-not-working-in-iis7-fix-it-in-web-config/">Mura 404 page not working in IIS7 &#8211; fix it in web.config</a>
									</li>
											<li>
					<a href="/free-coldfusion-10-beta-hosting/">Free ColdFusion 10 beta hosting</a>
									</li>
											<li>
					<a href="/remove-spaces-columns-cfspreadsheet/">Removing spaces from columns in cfspreadsheet (or any query)</a>
									</li>
											<li>
					<a href="/online-code-formatters/">Online code formatters</a>
									</li>
											<li>
					<a href="/joining-two-tables-one-id/">Joining to one of two tables with one ID</a>
									</li>
											<li>
					<a href="/formatting-cfgrid-with-javascript/">Formatting CFGRID with JavaScript</a>
									</li>
											<li>
					<a href="/cf-form-array-comma-workaround/">Accessing ColdFusion form values as an array</a>
									</li>
											<li>
					<a href="/loading-fckeditor-dynamically/">Loading CFrichtext / FCKeditor on-the-fly</a>
									</li>
											<li>
					<a href="/url-rewriting-windows-2008-iis7/">Mura URL rewriting on Windows 2008 / IIS7</a>
									</li>
					</ul>

		</li>
<li id="linkcat-2" class="widget widget_links">
<h2 class="widgettitle">Blogroll</h2>

	<ul class="xoxo blogroll">
<li><a href="http://www.axelscript.com/" title="AxelScript &#8211; Flex development blog">Axel Jensen</a></li>
<li><a href="http://jake.cfwebtools.com/" title="ColdFusion/Flex development">Jake Churchill</a></li>
<li><a href="http://www.coldfusionmuse.com/" title="ColdFusion Muse">Mark Kruger</a></li>
<li><a href="http://www.henke.ws/" title="ColdFusion, TDD, Ant, Subversion, etc.">Mike Henke</a></li>

	</ul>
</li>

<li id="text-4" class="widget widget_text">
<h2 class="widgettitle">Donate</h2>
			<div class="textwidget">If my code has helped you and you'd like give a donation, you can do so using the button below.
<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_donations">
<input type="hidden" name="business" value="ryan@stillnet.org">
<input type="hidden" name="lc" value="US">
<input type="hidden" name="item_name" value="Donation for helpful ColdFusion code">
<input type="hidden" name="currency_code" value="USD">
<input type="hidden" name="bn" value="PP-DonationsBF:btn_donateCC_LG.gif:NonHostedGuest">
<input type="image" src="https://www.paypal.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypal.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>
</div>
		</li>
<li id="text-5" class="widget widget_text">			<div class="textwidget">
<br><br>
<img src="/wp-content/uploads/2010/01/acp_logo.gif">
</div>
		</li>
			
		</ul> 
	</div>
	</div>
</div> <!-- wrapper -->

<div id="footer"><div><div><div>

	<a href="/feed/">Entries (RSS)</a> and <a href="/comments/feed/">Comments (RSS)</a>. Valid <a href="http://validator.w3.org/check/referer" title="This page validates as XHTML 1.0 Transitional"><abbr title="eXtensible HyperText Markup Language">XHTML</abbr></a> and <a href="http://jigsaw.w3.org/css-validator/check/referer"><abbr title="Cascading Style Sheets">CSS</abbr></a>.<br>

	Powered by <a href="http://www.wpthemes360.com/">Wordpress Themes</a>. Theme <a href="http://srinig.com/wordpress-themes/evanescence/">Evanescence</a> by <a href="http://srinig.com/">Srini G</a>

	</div></div></div></div>

</div> <!-- page -->

</body>

</html>